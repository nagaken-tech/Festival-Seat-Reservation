<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #6d6d6d; -webkit-text-stroke: #6d6d6d}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #1443ae; -webkit-text-stroke: #1443ae}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #12737e; -webkit-text-stroke: #12737e}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #2e3133; -webkit-text-stroke: #2e3133}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #a20010; -webkit-text-stroke: #a20010}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #4d5055; -webkit-text-stroke: #4d5055}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #6103ad; -webkit-text-stroke: #6103ad}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #2e3133; -webkit-text-stroke: #2e3133; min-height: 15.0px}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Menlo; color: #18191b; -webkit-text-stroke: #18191b}
    span.s1 {font-kerning: none; background-color: #f6f7f9}
    span.s2 {font-kerning: none; color: #fb0007; background-color: #f6f7f9; -webkit-text-stroke: 0px #fb0007}
    span.s3 {font-kerning: none; color: #2a2a2a; background-color: #f6f7f9; -webkit-text-stroke: 0px #2a2a2a}
    span.s4 {font-kerning: none; color: #2e3133; background-color: #f6f7f9; -webkit-text-stroke: 0px #2e3133}
    span.s5 {font-kerning: none; color: #1443ae; background-color: #f6f7f9; -webkit-text-stroke: 0px #1443ae}
    span.s6 {font-kerning: none; color: #a20010; background-color: #f6f7f9; -webkit-text-stroke: 0px #a20010}
    span.s7 {font-kerning: none; color: #12737e; background-color: #f6f7f9; -webkit-text-stroke: 0px #12737e}
    span.s8 {font-kerning: none; color: #6103ad; background-color: #f6f7f9; -webkit-text-stroke: 0px #6103ad}
    span.s9 {font-kerning: none; color: #137646; background-color: #f6f7f9; -webkit-text-stroke: 0px #137646}
    span.s10 {font-kerning: none; color: #093c94; background-color: #f6f7f9; -webkit-text-stroke: 0px #093c94}
    span.s11 {font-kerning: none; color: #4d5055; background-color: #f6f7f9; -webkit-text-stroke: 0px #4d5055}
    span.s12 {font-kerning: none}
    span.s13 {font-kerning: none; color: #18191b; background-color: #f6f7f9; -webkit-text-stroke: 0px #18191b}
    span.s14 {font-kerning: none; color: #ba0673; background-color: #f6f7f9; -webkit-text-stroke: 0px #ba0673}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">base</span><span class="s4"> </span><span class="s1">target</span><span class="s3">=</span><span class="s6">"_top"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s6">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">title</span><span class="s3">&gt;</span><span class="s1">FunFestival 当日券割り当て</span><span class="s3">&lt;/</span><span class="s5">title</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">meta</span><span class="s4"> </span><span class="s7">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s7">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">/* 基本的なスタイルは流用 */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">body</span><span class="s1"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">font-family:</span><span class="s4"> </span><span class="s6">sans-serif</span><span class="s4">; </span><span class="s1">margin:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">; </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">2em</span><span class="s4">; </span><span class="s1">text-align:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">flex</span><span class="s4">; </span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s6">column</span><span class="s4">; </span><span class="s1">align-items:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">min-height:</span><span class="s4"> </span><span class="s9">100vh</span><span class="s4">; </span><span class="s1">box-sizing:</span><span class="s4"> </span><span class="s6">border-box</span><span class="s4">; </span><span class="s1">background-color:</span><span class="s4"> </span><span class="s10">#f0f2f5</span><span class="s4">; </span><span class="s1">color:</span><span class="s4"> </span><span class="s10">#333</span><span class="s4">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s8">h2</span><span class="s4"> { </span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">1.5em</span><span class="s4">; </span><span class="s1">color:</span><span class="s4"> </span><span class="s10">#007bff</span><span class="s4">; </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">2em</span><span class="s4">; }</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">#controls</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">1.5em</span><span class="s4">; </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">; </span><span class="s1">max-width:</span><span class="s4"> </span><span class="s9">600px</span><span class="s4">; </span><span class="s1">box-sizing:</span><span class="s4"> </span><span class="s6">border-box</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">15px</span><span class="s4">; </span><span class="s1">background-color:</span><span class="s4"> </span><span class="s10">#fff</span><span class="s4">; </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s7">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">2px</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> </span><span class="s6">rgba(</span><span class="s9">0</span><span class="s1">, </span><span class="s9">0</span><span class="s1">, </span><span class="s9">0</span><span class="s1">, </span><span class="s9">0.08</span><span class="s6">)</span><span class="s1">; </span><span class="s7">display:</span><span class="s1"> </span><span class="s6">flex</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s6">column</span><span class="s4">; </span><span class="s1">align-items:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">; </span><span class="s1">gap:</span><span class="s4"> </span><span class="s9">12px</span><span class="s4">; </span><span class="s11">/* gapを調整 */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">#controls</span><span class="s4"> </span><span class="s1">div</span><span class="s4"> {<span class="Apple-converted-space"> </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">; </span><span class="s1">display:</span><span class="s4"> </span><span class="s6">flex</span><span class="s4">; </span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">; </span><span class="s1">align-items:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">gap:</span><span class="s4"> </span><span class="s9">5px</span><span class="s4">; </span><span class="s1">flex-wrap:</span><span class="s4"> </span><span class="s6">wrap</span><span class="s4">; </span><span class="s11">/* 折り返し対応 */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">#controls</span><span class="s4"> </span><span class="s1">label</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s6">bold</span><span class="s4">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s7">flex-basis:</span><span class="s4"> </span><span class="s9">120px</span><span class="s4">; </span><span class="s1">/* ラベルの幅を固定 */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">text-align:</span><span class="s4"> </span><span class="s6">right</span><span class="s4">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">#controls</span><span class="s4"> </span><span class="s1">input</span><span class="s4">[</span><span class="s6">type</span><span class="s4">=</span><span class="s6">"text"</span><span class="s4">] {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">0.5em</span><span class="s4">; </span><span class="s1">border:</span><span class="s4"> </span><span class="s9">1px</span><span class="s4"> </span><span class="s6">solid</span><span class="s4"> </span><span class="s10">#ddd</span><span class="s4">; </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">4px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">box-sizing:</span><span class="s4"> </span><span class="s6">border-box</span><span class="s4">; </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">1em</span><span class="s4">; </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">200px</span><span class="s4">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">button</span><span class="s1"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">0.8em</span><span class="s4"> </span><span class="s9">1.5em</span><span class="s4">; </span><span class="s1">background-color:</span><span class="s4"> </span><span class="s10">#28a745</span><span class="s4">; </span><span class="s1">color:</span><span class="s4"> </span><span class="s6">white</span><span class="s4">; </span><span class="s11">/* 確定ボタンは緑 */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">border:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">; </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">5px</span><span class="s4">; </span><span class="s1">cursor:</span><span class="s4"> </span><span class="s6">pointer</span><span class="s4">; </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">1em</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">transition:</span><span class="s4"> </span><span class="s6">background-color</span><span class="s4"> </span><span class="s9">0.3s</span><span class="s4"> </span><span class="s6">ease</span><span class="s4">; </span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">; </span><span class="s11">/* 少し上にマージン */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">; </span><span class="s1">max-width:</span><span class="s4"> </span><span class="s9">300px</span><span class="s4">; </span><span class="s11">/* ボタンの幅 */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s8">button:hover</span><span class="s4"> { </span><span class="s1">background-color:</span><span class="s4"> </span><span class="s10">#218838</span><span class="s4">; }</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">button.cancel-button</span><span class="s4"> { </span><span class="s7">background-color:</span><span class="s4"> </span><span class="s10">#6c757d</span><span class="s4">; }</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">button.cancel-button:hover</span><span class="s4"> { </span><span class="s7">background-color:</span><span class="s4"> </span><span class="s10">#5a6268</span><span class="s4">; }</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">#info-display</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">2em</span><span class="s4">; </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4">; </span><span class="s1">background-color:</span><span class="s4"> </span><span class="s10">#fff</span><span class="s4">; </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">box-shadow:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">2px</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s6">rgba(</span><span class="s9">0</span><span class="s4">, </span><span class="s9">0</span><span class="s4">, </span><span class="s9">0</span><span class="s4">, </span><span class="s9">0.08</span><span class="s6">)</span><span class="s4">; </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">; </span><span class="s1">max-width:</span><span class="s4"> </span><span class="s9">600px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">text-align:</span><span class="s4"> </span><span class="s6">left</span><span class="s4">; </span><span class="s1">display:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">; </span><span class="s11">/* 初期状態では非表示 */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s8">#info-display</span><span class="s4"> </span><span class="s8">h3</span><span class="s4"> { </span><span class="s1">color:</span><span class="s4"> </span><span class="s10">#007bff</span><span class="s4">; </span><span class="s1">text-align:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">; </span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">1em</span><span class="s4">; </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">1.8em</span><span class="s4">; }</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">#status-message</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">1.2em</span><span class="s4">; </span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s6">bold</span><span class="s4">; </span><span class="s1">text-align:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">margin:</span><span class="s4"> </span><span class="s9">1.5em</span><span class="s4"> </span><span class="s9">0</span><span class="s4">; </span><span class="s1">border:</span><span class="s4"> </span><span class="s9">2px</span><span class="s4"> </span><span class="s6">solid</span><span class="s4">; </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">; </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">5px</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">white-space:</span><span class="s4"> </span><span class="s6">pre-line</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">#status-message.success</span><span class="s4"> { </span><span class="s7">color:</span><span class="s4"> </span><span class="s10">#28a745</span><span class="s4">; </span><span class="s7">border-color:</span><span class="s4"> </span><span class="s10">#28a745</span><span class="s4">; }</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">#status-message.error</span><span class="s4"> { </span><span class="s7">color:</span><span class="s4"> </span><span class="s10">#d9534f</span><span class="s4">; </span><span class="s7">border-color:</span><span class="s4"> </span><span class="s10">#d9534f</span><span class="s4">; }</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s8">#info-display</span><span class="s4"> </span><span class="s8">.buttons</span><span class="s4"> { </span><span class="s1">text-align:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">; </span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4">; }</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">#info-display</span><span class="s4"> </span><span class="s1">.buttons</span><span class="s4"> </span><span class="s1">button</span><span class="s4"> { </span><span class="s7">margin:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">10px</span><span class="s4">; </span><span class="s7">width:</span><span class="s4"> </span><span class="s6">auto</span><span class="s4">; } </span><span class="s11">/* 閉じるボタンの幅調整 */</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">#overlay</span><span class="s4"> {</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s6">fixed</span><span class="s4">; </span><span class="s1">top:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">; </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">0</span><span class="s4">; </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">; </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">100%</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s6">rgba(</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0</span><span class="s4">,</span><span class="s9">0.7</span><span class="s6">)</span><span class="s4">; </span><span class="s1">color:</span><span class="s4"> </span><span class="s6">white</span><span class="s4">; </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">2em</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s6">flex</span><span class="s4">; </span><span class="s1">align-items:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">; </span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s6">center</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">1000</span><span class="s4">; </span><span class="s1">display:</span><span class="s4"> </span><span class="s6">none</span><span class="s4">; </span><span class="s1">white-space:</span><span class="s4"> </span><span class="s6">pre-line</span><span class="s4">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">#overlay.success</span><span class="s1"> { </span><span class="s7">background:</span><span class="s1"> </span><span class="s6">rgba(</span><span class="s9">76</span><span class="s1">, </span><span class="s9">175</span><span class="s1">, </span><span class="s9">80</span><span class="s1">, </span><span class="s9">0.9</span><span class="s6">)</span><span class="s1">; </span><span class="s7">color:</span><span class="s1"> </span><span class="s6">white</span><span class="s1">; }</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s8">#overlay.error</span><span class="s1"> { </span><span class="s7">background:</span><span class="s1"> </span><span class="s6">rgba(</span><span class="s9">244</span><span class="s1">, </span><span class="s9">67</span><span class="s1">, </span><span class="s9">54</span><span class="s1">, </span><span class="s9">0.9</span><span class="s6">)</span><span class="s1">; </span><span class="s7">color:</span><span class="s1"> </span><span class="s6">white</span><span class="s1">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">h2</span><span class="s3">&gt;</span><span class="s1">FunFestival 1階席 当日券割り当て</span><span class="s3">&lt;/</span><span class="s5">h2</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">  </span></span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"controls"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">label</span><span class="s1"> </span><span class="s7">for</span><span class="s3">=</span><span class="s6">"studentId"</span><span class="s3">&gt;</span><span class="s1">学籍番号:</span><span class="s3">&lt;/</span><span class="s5">label</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">input</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"studentId"</span><span class="s4"> </span><span class="s7">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s7">placeholder</span><span class="s3">=</span><span class="s1">"例: b2021018"</span><span class="s3">&gt;</span><span class="s4">@seig-boys.jp<span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">label</span><span class="s1"> </span><span class="s7">for</span><span class="s3">=</span><span class="s6">"seatId"</span><span class="s3">&gt;</span><span class="s1">座席番号:</span><span class="s3">&lt;/</span><span class="s5">label</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">input</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"seatId"</span><span class="s4"> </span><span class="s7">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s7">placeholder</span><span class="s3">=</span><span class="s1">"例: F-5 または F5"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">button</span><span class="s4"> </span><span class="s7">onclick</span><span class="s3">=</span><span class="s1">"assignTicket()"</span><span class="s3">&gt;</span><span class="s4">割り当て確定</span><span class="s3">&lt;/</span><span class="s5">button</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"info-display"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">h3</span><span class="s3">&gt;</span><span class="s1">割り当て結果</span><span class="s3">&lt;/</span><span class="s5">h3</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">id</span><span class="s3">=</span><span class="s1">"status-message"</span><span class="s3">&gt;&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"buttons"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s3">&lt;</span><span class="s5">button</span><span class="s4"> </span><span class="s7">class</span><span class="s3">=</span><span class="s1">"cancel-button"</span><span class="s4"> </span><span class="s7">onclick</span><span class="s3">=</span><span class="s1">"resetPage()"</span><span class="s3">&gt;</span><span class="s4">閉じる</span><span class="s3">&lt;/</span><span class="s5">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s5">div</span><span class="s1"> </span><span class="s7">id</span><span class="s3">=</span><span class="s6">"overlay"</span><span class="s3">&gt;</span><span class="s1">処理中...</span><span class="s3">&lt;/</span><span class="s5">div</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// 効果音 (既存のものを流用)</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s13">successSound</span><span class="s4"> = </span><span class="s5">new</span><span class="s4"> </span><span class="s14">Audio</span><span class="s4">(</span><span class="s1">'https://github.com/nagaken-tech/fun-festival-sounds/raw/refs/heads/main/Firefly_audio_A_short_but_elegant_boarding_gate_chime_for_a_prem_variation2.wav'</span><span class="s4">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s13">errorSound</span><span class="s4"> = </span><span class="s5">new</span><span class="s4"> </span><span class="s14">Audio</span><span class="s4">(</span><span class="s1">'https://github.com/nagaken-tech/fun-festival-sounds/raw/refs/heads/main/%E8%AD%A6%E5%91%8A%E9%9F%B31.mp3'</span><span class="s4">);</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">const</span><span class="s4"> </span><span class="s13">scanSound</span><span class="s4"> = </span><span class="s5">new</span><span class="s4"> </span><span class="s14">Audio</span><span class="s4">(</span><span class="s1">'https://github.com/nagaken-tech/fun-festival-sounds/raw/refs/heads/main/%E6%B1%BA%E5%AE%9A%E3%83%9B%E3%82%99%E3%82%BF%E3%83%B3%E3%82%92%E6%8A%BC%E3%81%9952.mp3'</span><span class="s4">);</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">var</span><span class="s4"> </span><span class="s1">studentIdInput</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'studentId'</span><span class="s4">);<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">var</span><span class="s4"> </span><span class="s1">seatIdInput</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'seatId'</span><span class="s4">);<span class="Apple-converted-space"> </span></span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// 学籍番号スキャン時</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">studentIdInput</span><span class="s4">.</span><span class="s1">addEventListener</span><span class="s4">(</span><span class="s6">'input'</span><span class="s4">, </span><span class="s5">function</span><span class="s4">() {</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s5">this</span><span class="s1">.</span><span class="s13">value</span><span class="s1">.</span><span class="s13">length</span><span class="s1"> === </span><span class="s7">8</span><span class="s1">) {</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s13">scanSound</span><span class="s1">.</span><span class="s13">play</span><span class="s1">();<span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 8桁入力されたら、座席番号欄にフォーカスを移動</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s13">seatIdInput</span><span class="s1">.</span><span class="s13">focus</span><span class="s1">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// 座席番号欄でエンターキーを押したら確定</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">seatIdInput</span><span class="s4">.</span><span class="s1">addEventListener</span><span class="s4">(</span><span class="s6">'keypress'</span><span class="s4">, </span><span class="s5">function</span><span class="s4">(</span><span class="s1">event</span><span class="s4">) {</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">event</span><span class="s1">.</span><span class="s13">key</span><span class="s1"> === </span><span class="s6">'Enter'</span><span class="s1">) {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">event</span><span class="s4">.</span><span class="s1">preventDefault</span><span class="s4">();<span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s13">assignTicket</span><span class="s1">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s5">function</span><span class="s4"> </span><span class="s1">assignTicket</span><span class="s4">() {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'overlay'</span><span class="s4">).</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> === </span><span class="s6">'flex'</span><span class="s4">) </span><span class="s5">return</span><span class="s4">;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">var</span><span class="s4"> </span><span class="s1">studentId</span><span class="s4"> = </span><span class="s1">studentIdInput</span><span class="s4">.</span><span class="s1">value</span><span class="s4">.</span><span class="s1">trim</span><span class="s4">();</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">var</span><span class="s4"> </span><span class="s1">seatId</span><span class="s4"> = </span><span class="s1">seatIdInput</span><span class="s4">.</span><span class="s1">value</span><span class="s4">.</span><span class="s1">trim</span><span class="s4">().</span><span class="s1">toUpperCase</span><span class="s4">().</span><span class="s1">replace</span><span class="s4">(</span><span class="s6">'-'</span><span class="s4">, </span><span class="s6">''</span><span class="s4">); </span><span class="s11">// F-5 も F5 も FU5 として処理</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s1"> (!</span><span class="s13">studentId</span><span class="s1"> || !</span><span class="s13">seatId</span><span class="s1">) {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s13">alert</span><span class="s4">(</span><span class="s1">'学籍番号と座席番号の両方を入力してください。'</span><span class="s4">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">studentId</span><span class="s1">.</span><span class="s13">length</span><span class="s1"> !== </span><span class="s7">8</span><span class="s1">) {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s13">alert</span><span class="s4">(</span><span class="s1">'学籍番号は8桁です。'</span><span class="s4">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">      </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">// 座席番号の簡易チェック (例: F5, K10)</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">if</span><span class="s4"> (!</span><span class="s1">/^[D-Y]\d{1,2}$/</span><span class="s4">.</span><span class="s13">test</span><span class="s4">(</span><span class="s13">seatId</span><span class="s4">)) {</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s13">alert</span><span class="s4">(</span><span class="s1">'座席番号の形式が正しくありません (例: F5 または K10)。\n'</span><span class="s4"> + </span><span class="s13">seatId</span><span class="s4"> + </span><span class="s1">' は無効です。'</span><span class="s4">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">return</span><span class="s1">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s5">var</span><span class="s4"> </span><span class="s1">overlay</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'overlay'</span><span class="s4">);</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">overlay</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">'割り当て処理中...'</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">overlay</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">overlay</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'flex'</span><span class="s4">;</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">google</span><span class="s4">.</span><span class="s1">script</span><span class="s4">.</span><span class="s1">run</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>.</span><span class="s1">withSuccessHandler</span><span class="s4">(</span><span class="s5">function</span><span class="s4">(</span><span class="s1">response</span><span class="s4">) {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">overlay</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'none'</span><span class="s4">;</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">var</span><span class="s4"> </span><span class="s1">infoDisplay</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'info-display'</span><span class="s4">);</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s5">var</span><span class="s4"> </span><span class="s1">statusMessage</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'status-message'</span><span class="s4">);</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">          </span></span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">statusMessage</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s1">response</span><span class="s4">.</span><span class="s1">message</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">infoDisplay</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'block'</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'controls'</span><span class="s4">).</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'none'</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">response</span><span class="s1">.</span><span class="s13">status</span><span class="s1"> === </span><span class="s6">'success'</span><span class="s1">) {</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s13">successSound</span><span class="s1">.</span><span class="s13">play</span><span class="s1">();</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">statusMessage</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">'success'</span><span class="s4">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>} </span><span class="s5">else</span><span class="s1"> {<span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s13">errorSound</span><span class="s1">.</span><span class="s13">play</span><span class="s1">();</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">statusMessage</span><span class="s4">.</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">'error'</span><span class="s4">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>})</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>.</span><span class="s1">withFailureHandler</span><span class="s4">(</span><span class="s5">function</span><span class="s4">(</span><span class="s1">error</span><span class="s4">) {</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">errorSound</span><span class="s1">.</span><span class="s13">play</span><span class="s1">();</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">console</span><span class="s4">.</span><span class="s1">error</span><span class="s4">(</span><span class="s6">"割り当てエラー:"</span><span class="s4">, </span><span class="s1">error</span><span class="s4">);</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">overlay</span><span class="s4">.</span><span class="s1">textContent</span><span class="s4"> = </span><span class="s6">'エラー: '</span><span class="s4"> + </span><span class="s1">error</span><span class="s4">.</span><span class="s1">message</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">          </span></span><span class="s1">overlay</span><span class="s4">.</span><span class="s1">classList</span><span class="s4">.</span><span class="s1">add</span><span class="s4">(</span><span class="s6">'error'</span><span class="s4">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span></span><span class="s13">setTimeout</span><span class="s1">(</span><span class="s5">function</span><span class="s1">() {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">overlay</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'none'</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">overlay</span><span class="s4">.</span><span class="s1">classList</span><span class="s4">.</span><span class="s1">remove</span><span class="s4">(</span><span class="s6">'error'</span><span class="s4">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s13">resetPage</span><span class="s1">(); </span><span class="s11">// エラー時はリセット</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">          </span>}, </span><span class="s7">5000</span><span class="s1">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>})</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span>.</span><span class="s1">assignSpecificSameDayTicket</span><span class="s4">(</span><span class="s1">studentId</span><span class="s4">, </span><span class="s1">seatId</span><span class="s4">); </span><span class="s11">// ★新しいバックエンド関数を呼ぶ</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">function</span><span class="s1"> </span><span class="s13">resetPage</span><span class="s1">() {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">studentIdInput</span><span class="s4">.</span><span class="s1">value</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">seatIdInput</span><span class="s4">.</span><span class="s1">value</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">; </span><span class="s11">// 座席番号もリセット</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'info-display'</span><span class="s4">).</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'none'</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'controls'</span><span class="s4">).</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'flex'</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">studentIdInput</span><span class="s4">.</span><span class="s1">focus</span><span class="s4">(); </span><span class="s11">// 最初の学籍番号欄にフォーカス</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'overlay'</span><span class="s4">).</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'none'</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'status-message'</span><span class="s4">).</span><span class="s1">innerHTML</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">      </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'status-message'</span><span class="s4">).</span><span class="s1">className</span><span class="s4"> = </span><span class="s6">''</span><span class="s4">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">addEventListener</span><span class="s4">(</span><span class="s6">'DOMContentLoaded'</span><span class="s4">, </span><span class="s5">function</span><span class="s4">() {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'overlay'</span><span class="s4">).</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> = </span><span class="s6">'none'</span><span class="s4">;<span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s13">resetPage</span><span class="s1">();<span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p8"><span class="s12"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">// ページ全体でキーボードの入力を監視</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">document</span><span class="s4">.</span><span class="s1">addEventListener</span><span class="s4">(</span><span class="s6">'keydown'</span><span class="s4">, </span><span class="s5">function</span><span class="s4">(</span><span class="s1">event</span><span class="s4">) {</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s5">const</span><span class="s4"> </span><span class="s1">infoDisplay</span><span class="s4"> = </span><span class="s1">document</span><span class="s4">.</span><span class="s1">getElementById</span><span class="s4">(</span><span class="s6">'info-display'</span><span class="s4">);</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// 結果表示中は Enter または Space で閉じる</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s5">if</span><span class="s4"> (</span><span class="s1">infoDisplay</span><span class="s4">.</span><span class="s1">style</span><span class="s4">.</span><span class="s1">display</span><span class="s4"> === </span><span class="s6">'block'</span><span class="s4">) {</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">event</span><span class="s1">.</span><span class="s13">key</span><span class="s1"> === </span><span class="s6">'Enter'</span><span class="s1"> || </span><span class="s13">event</span><span class="s1">.</span><span class="s13">key</span><span class="s1"> === </span><span class="s6">' '</span><span class="s1"> || </span><span class="s13">event</span><span class="s1">.</span><span class="s13">code</span><span class="s1"> === </span><span class="s6">'Space'</span><span class="s1">) {</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s13">event</span><span class="s1">.</span><span class="s13">preventDefault</span><span class="s1">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s13">resetPage</span><span class="s1">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Escキーで強制的にリセット（緊急用）</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s13">event</span><span class="s1">.</span><span class="s13">key</span><span class="s1"> === </span><span class="s6">'Escape'</span><span class="s1">) {</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s13">resetPage</span><span class="s1">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span>});</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">  </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
